reporting-disabled = true
bind-address = ":<%= p("influxdb.backup.bind-address") %>"
hostname = "<%= spec.address %>"
join = ""

[meta]
  dir = "/var/vcap/store/influxdb/meta"
  retention-autocreate = true
  logging-enabled = true
  pprof-enabled = false
  lease-duration = "1m0s"

[data]
  dir = "/var/vcap/store/influxdb/data"
  wal-dir = "/var/vcap/store/influxdb/wal"
  engine = "<%= p("influxdb.data.engine") %>"
 
  wal-logging-enabled = <%= p("influxdb.data.wal-logging-enabled") %>
  query-log-enabled = <%= p("influxdb.data.query-log-enabled") %>
  cache-max-memory-size = <%= p("influxdb.data.cache-max-memory-size") %> 
  cache-snapshot-memory-size = <%= p("influxdb.data.cache-snapshot-memory-size") %> 
  cache-snapshot-write-cold-duration = "<%= p("influxdb.data.cache-snapshot-write-cold-duration") %>"
  compact-full-write-cold-duration = "<%= p("influxdb.data.compact-full-write-cold-duration") %>"
  max-points-per-block = <%= p("influxdb.data.max-points-per-block") %> 
  data-logging-enabled = <%= p("influxdb.data.data-logging-enabled") %>  

[coordinator]
  write-timeout = "<%= p("influxdb.coordinator.write-timeout") %>" 
  max-concurrent-queries = <%= p("influxdb.coordinator.max-concurrent-queries") %> 
  query-timeout = "<%= p("influxdb.coordinator.query-timeout") %>"
  log-queries-after = "<%= p("influxdb.coordinator.log-queries-after") %>"
  max-select-point = <%= p("influxdb.coordinator.max-select-point") %> 
  max-select-series = <%= p("influxdb.coordinator.max-select-series") %> 
  max-select-buckets = <%= p("influxdb.coordinator.max-select-buckets") %> 

[retention]
  enabled = <%= p("influxdb.retention.max-enabled") %>   
  check-interval = "<%= p("influxdb.retention.check-interval") %>" 

[shard-precreation]
  enabled = <%= p("influxdb.shard-precreation.enabled") %> 
  check-interval = "<%= p("influxdb.shard-precreation.check-interval") %>"
  advance-period = "<%= p("influxdb.shard-precreation.advance-period") %>"

[admin]
  enabled = <%= p("influxdb.admin.enabled") %> 
  bind-address = "<%= p("influxdb.admin.bind-address") %>"
  https-enabled = <%= p("influxdb.https_enabled") %> 
  https-certificate = "<%= p("influxdb.admin.https-certificate") %>"

  Version = ""

[monitor]
  store-enabled = true
  store-database = "_internal"
  store-interval = "10s"

[subscriber]
  enabled = true
  http-timeout = "30s"

[http]
  enabled = <%= p("influxdb.http.enabled") %> 
  bind-address = ":<%= p("influxdb.http.bind-address") %>"
  auth-enabled = <%= p("influxdb.http.auth-enabled") %> 
  log-enabled = <%= p("influxdb.http.log-enabled") %> 
  write-tracing = <%= p("influxdb.http.write-tracing") %> 
  pprof-enabled = <%= p("influxdb.http.pprof-enabled") %> 
  https-enabled = <%= p("influxdb.https_enabled") %> 
  https-certificate = "<%= p("influxdb.http.https-certificate") %>"
  https-private-key = "<%= p("influxdb.http.https-certificate") %>"
  max-row-limit = <%= p("influxdb.http.max-row-limit") %> 
  max-connection-limit = <%= p("influxdb.http.max-connection-limit") %> 
  shared-secret = ""

[[graphite]]
  enabled = false
  bind-address = ":2003"
  database = "graphite"
  protocol = "tcp"
  batch-size = 5000
  batch-pending = 10
  batch-timeout = "1s"
  consistency-level = "one"
  separator = "."
  udp-read-buffer = 0

[[collectd]]
  enabled = false
  bind-address = ":25826"
  database = "collectd"
  retention-policy = ""
  batch-size = 5000
  batch-pending = 10
  batch-timeout = "10s"
  read-buffer = 0
  typesdb = "/usr/share/collectd/types.db"

[[opentsdb]]
  enabled = false
  bind-address = ":4242"
  database = "opentsdb"
  retention-policy = ""
  consistency-level = "one"
  tls-enabled = false
  certificate = "/etc/ssl/influxdb.pem"
  batch-size = 1000
  batch-pending = 5
  batch-timeout = "1s"
  log-point-errors = true

[[udp]]
  enabled = <%= p("influxdb.udp.cf-metric.enabled") %>
  bind-address = "<%= p("influxdb.udp.cf-metric.bind-address") %>" 
  database = "<%= p("influxdb.udp.cf-metric.database") %>" 
  retention-policy = ""
  batch-size = <%= p("influxdb.udp.cf-metric.batch-size") %>
  batch-pending = <%= p("influxdb.udp.cf-metric.batch-pending") %>
  read-buffer = <%= p("influxdb.udp.cf-metric.read-buffer") %>  
  batch-timeout = "<%= p("influxdb.udp.cf-metric.batch-timeout") %>" 
  precision = ""

[[udp]]
  enabled = <%= p("influxdb.udp.server-metric.enabled") %>
  bind-address = "<%= p("influxdb.udp.server-metric.bind-address") %>" 
  database = "<%= p("influxdb.udp.server-metric.database") %>" 
  retention-policy = ""
  batch-size = <%= p("influxdb.udp.server-metric.batch-size") %>
  batch-pending = <%= p("influxdb.udp.server-metric.batch-pending") %>
  read-buffer = <%= p("influxdb.udp.server-metric.read-buffer") %>  
  batch-timeout = "<%= p("influxdb.udp.server-metric.batch-timeout") %>"
  precision = ""

[[udp]]
  enabled = <%= p("influxdb.udp.container-metric.enabled") %>
  bind-address = "<%= p("influxdb.udp.container-metric.bind-address") %>" 
  database = "<%= p("influxdb.udp.container-metric.database") %>" 
  retention-policy = ""
  batch-size = <%= p("influxdb.udp.container-metric.batch-size") %>
  batch-pending = <%= p("influxdb.udp.container-metric.batch-pending") %>
  read-buffer = <%= p("influxdb.udp.container-metric.read-buffer") %>  
  batch-timeout = "<%= p("influxdb.udp.container-metric.batch-timeout") %>"
  precision = ""

[[udp]]
  enabled = <%= p("influxdb.udp.bosh-metric.enabled") %>
  bind-address = "<%= p("influxdb.udp.bosh-metric.bind-address") %>" 
  database = "<%= p("influxdb.udp.bosh-metric.database") %>" 
  retention-policy = ""
  batch-size = <%= p("influxdb.udp.bosh-metric.batch-size") %>
  batch-pending = <%= p("influxdb.udp.bosh-metric.batch-pending") %>
  read-buffer = <%= p("influxdb.udp.bosh-metric.read-buffer") %>  
  batch-timeout = "<%= p("influxdb.udp.bosh-metric.batch-timeout") %>"
  precision = ""

[[udp]]
  enabled = <%= p("influxdb.udp.service-metric.enabled") %>
  bind-address = "<%= p("influxdb.udp.service-metric.bind-address") %>" 
  database = "<%= p("influxdb.udp.service-metric.database") %>" 
  retention-policy = ""
  batch-size = <%= p("influxdb.udp.service-metric.batch-size") %>
  batch-pending = <%= p("influxdb.udp.service-metric.batch-pending") %>
  read-buffer = <%= p("influxdb.udp.service-metric.read-buffer") %>  
  batch-timeout = "<%= p("influxdb.udp.service-metric.batch-timeout") %>"


[continuous_queries]
  log-enabled = true
  enabled = true
  run-interval = "1s"
